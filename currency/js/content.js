class Content{constructor(){this.storage=STORAGE,this.count=null,this.initHandlers()}initHandlers(){const a=$(document.body);a.on('mouseup',()=>this.onSelection())}onSelection(){const a=window.getSelection().toString().replace(/\s/g,''),b=parseFloat(a);isNaN(b)?this.removeTooltip():(this.count=b,this.run())}run(){chrome.storage.local.get(this.storage,(a)=>{this.storage=a,this.storage.convert_page_money&&this.renderTooltip()})}removeTooltip(){$('.cc-tooltip').remove()}renderTooltip(){this.removeTooltip();const a=this.storage.active_currency,b=this.storage.currency_suite.filter((b)=>b!==a),c=b.map((a)=>`<div style="font-size: 14px; color: #fff; line-height: 1.5;">${this.calc(a)} ${a}</div>`).join(''),d=`            <div class="cc-tooltip" style="position: fixed; z-index: 1000000; top: 20px; right: 20px; border-radius: 4px; background: rgba(0,0,0,.5); padding: 10px 20px; opacity: 0;">                <div style="font-size: 14px; color: #fff; line-height: 1.5; font-weight: bold; border-bottom: 1px solid #fff;"                >${this.count} ${a}: </div>                ${c}            </div>        `;$(d).appendTo(document.body).animate({opacity:1},300)}calc(a){const b=this.storage.rates[this.storage.active_currency],c=this.storage.rates[a];return(this.count/b*c).toFixed(2)}}const c=new Content;